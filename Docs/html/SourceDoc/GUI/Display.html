<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<meta name="robots" content="index,nofollow">


<title>SourceDoc/GUI/Display - Freevo 2.0 Wiki</title>


<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="/moin-1.3.1/modern/css/common.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="screen" href="/moin-1.3.1/modern/css/screen.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="print" href="/moin-1.3.1/modern/css/print.css">
<link rel="stylesheet" type="text/css" charset="utf-8" href="/moin-1.3.1/modern/css/freevo.css">

<link rel="alternate" title="Freevo 2.0 Wiki Recent Changes" href="/cgi-bin/freevo-2.0/RecentChanges?action=rss_rc&amp;ddiffs=1&amp;unique=1" type="application/rss+xml">
<link rel="Start" href="/cgi-bin/freevo-2.0/Index">
<link rel="Alternate" title="Wiki Markup" href="/cgi-bin/freevo-2.0/SourceDoc/GUI/Display?action=raw">
<link rel="Alternate" media="print" title="Print View" href="/cgi-bin/freevo-2.0/SourceDoc/GUI/Display?action=print">
<link rel="Up" href="/cgi-bin/freevo-2.0/SourceDoc/GUI">
<link rel="Search" href="/cgi-bin/freevo-2.0/FindPage">
<link rel="Index" href="/cgi-bin/freevo-2.0/TitleIndex">
<link rel="Glossary" href="/cgi-bin/freevo-2.0/WordIndex">
<link rel="Help" href="/cgi-bin/freevo-2.0/HelpOnFormatting">
</head>

<body  lang="en" dir="ltr">

            <!-- Header Logo and Status Line -->
<div id="titlebar"><span class="name"><a href="http://freevo.sourceforge.net/" target="_blank">Freevo</a></span></div>
<div id="header">
<ul>

	<li><a href="../Index.html">User Documentation</a></li>
	<li id="current"><a href="../SourceDoc.html">Source Documenation</a></li>
        
</ul>
</div>
<p>&nbsp;</p>
<div id="page" lang="en" dir="ltr"><!-- start page -->


<h1 id="title">SourceDoc/GUI/Display</h1>
<div lang="en" id="content" dir="ltr">
<a id="top"></a>
<p>A display class is used to show content on the screen. This content can be either Freevo itself (menu, etc.) or usefull informations while an application is running. For the later, it is necessary that the application itself provides a way to draw on top of it. Right now only mplayer supports this with bmovl or bmovl2. </p>

<h2 id="head-cd42e8afe4c7c4af380e0da3513414c6beff4157">Primary Display</h2>

<p>The primary display is the display that is used on startup. The module itself is located in src/gui/displays and can be set with the config variable OSD_DISPLAY. Setting OSD_DISPLAY='foo' will use src/gui/displays/foo.py as primary display. While Freevo is running, it is possible to change the current display in case an application starts. 
</p>
<pre>
# code from src/video/plugins/mplayer.py:

# select bmovl display engine with the width and height of the video
self.screen = gui.set_display('Bmovl', (self.width, self.height))

# on video stop, restore the display by removing the new one
gui.remove_display(self.screen)
</pre>
<p>When Bmovl is set, the gui system will move everything from the current display to the display in bmovl.py (Note: the case for set_display doesn't matter, the module name must always be lower case). </p>

<h2 id="head-f67bd986e13be40ce863057f252e4badc9cb1cb7">Status</h2>

<p>All displays are based on <a href="../SourceDoc/Mevas.html">Mevas displays</a> and by adding a new display to Mevas it is possible to create a new display engine for Freevo. The bmovl and bmovl2 displays can't be used as primary display engines right now. This will be fixed soon. But even then, it is not possible to reuse the mplayer showing the menu for watching the video. If you want this to be possible, send patches. </p>
<p>See <a href="../HelpNeeded.html">HelpNeeded</a> for more informations what needs to be done. </p>

<h2 id="head-b79563fa5402d8036bde5702e2d9828cee8dcce9">Writing a Display</h2>

<p>PleaseUpdate: add documentation </p>

<pre>
class Display(PygameCanvas):
    """
    Display class for SDL output
    """
    def __init__(self, size, default=False):
        PygameCanvas.__init__(self, size)
        self.animation_possible = True
        plugin.activate('input.sdl')


    def hide(self):
        """
        Hide the output display. In most cases this does nothing since
        a simple window doesn't matter. If OSD_STOP_WHEN_PLAYING the
        pygame display will be shut down.
        """
        pass

    def show(self):
        """
        Show the output window again if it is not visible
        """
        pass

    def stop(self):
        """
        Stop the display
        """
        pass

    def restart(self):
        """
        Restart the display if it is currently stopped
        """
        pass
</pre>
<a id="bottom"></a>

</div>
<p id="pageinfo" class="info" lang="en" dir="ltr">last edited 2004-12-14 13:55:14 by <span title="riemen.informatik.uni-bremen.de">Dischi</span>
<br>current version: <a href="http://freevo.sourceforge.net/cgi-bin/freevo-2.0/SourceDoc/GUI/Display">http://freevo.sourceforge.net/cgi-bin/freevo-2.0/SourceDoc/GUI/Display</a></p>
</div> <!-- end page -->
</body>
</html>
