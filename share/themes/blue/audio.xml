<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<theme geometry="1280x720">

    <script filename='scripts.py'/>

    <menu name="audio">
	<alias name="audio main menu"/>
	<event name="replace" script="menu"/>
	<group style="condition" name="details" x="10" y="100" width="370" height="590">
	    <event name="replace"><![CDATA[
	        item = next.context.get('item')
		if item and item.thumbnail:
		    next.x = -400
		    yield next.animate('EASE_OUT_BACK', 0.5, x=10)
		else:
		    yield prev.animate('EASE_IN_BACK', 0.5, x=-400)
	    ]]>
	    </event>
	    <case condition="item.thumbnail">
		<rectangle color="0x99000000" radius="30"/>
		<group>
		    <thumbnail x="10" y="10" width="350" height="350" thumbnail="$item.thumbnail">
			<replace-on-context-change keys="item.artist item.album" script="fade"/>
		    </thumbnail>
		    <label x="10" y="380" width="330" font="Vera:20" color="0xffffff">
			<replace-on-context-change keys="item.name" script="fade"/>
			$item.name
		    </label>
		    <label x="10" y="420" width="330" font="Vera:18" color="0xffffff">
			<replace-on-context-change keys="item.artist" script="fade"/>
			$item.artist
		    </label>
		    <label x="10" y="440" width="330" font="Vera:18" color="0xffffff">
			<replace-on-context-change keys="item.album" script="fade"/>
			$item.album
		    </label>
		</group>
	    </case>
	</group>
        <listing x="420" y="100" width="590" height="590" xpadding="20" ypadding="10">
	    <label font="Vera" height="30" color="0xcccccc">
		<properties opacity="150"/>
		$item.name
	    </label>
            <selection>
                <rectangle color="0xa0000000" radius="30" height="40"/>
            </selection>
	    <event name="replace"><![CDATA[
                diff = 50
                if prev.context['menu'].pos < next.context['menu'].pos:
                    diff = -50
                next.x -= diff
                next.opacity = 0
                next.animate('EASE_IN_QUAD', 0.2, x=next.x + diff, opacity=255)
                yield prev.animate('EASE_OUT_QUAD', 0.2, x=prev.x + diff, opacity=0)
		]]>
	    </event>
	    <event name="select"><![CDATA[
	        if prev:
                    prev.animate('EASE_OUT_QUAD', secs, opacity=130)
                next.animate('EASE_OUT_QUAD', secs, opacity=255)
		]]>
	    </event>
        </listing>
	<image style="icon" x="500" y="350" width="290" height="240" name="audio">
	    <properties xalign="right" yalign="bottom" keep-aspect="true" opacity="50"/>
	</image>
    </menu>

    <application name="audioplayer">
        <image filename="../../images/blurrback.jpg"/>
	<group x="40" y="100" width="720" height="270">
	    <rectangle color="0xcc000000" radius="30"/>
	    <thumbnail x="20" y="20" width="230" height="230" thumbnail="$item.thumbnail"/>
	    <group x="300"  y="20" width="420" height="230">
		<label font="Vera:24" color="0xffffff">$item.title</label>
		<label y="200" font="Vera:24" color="0xffffff">
		    $item.elapsed / $item.length
		</label>
	    </group>
	</group>
    </application>

</theme>
<!-- Keep this comment at the end of the file
Local variables:
nxml-child-indent: 4
End:
-->
