<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<theme>

    <script filename='scripts.py'/>

    <menu name="audio">
	<alias name="audio main menu"/>
	<event name="replace" script="menu"/>
	<group style="condition" name="details" x="10" y="100" width="370" height="590">
	    <event name="replace"><![CDATA[
	        item = next.context.get('item')
		if item and item.thumbnail:
		    next.x = -400
		    yield next.animate('EASE_OUT_BACK', 0.5, x=10)
		else:
		    yield prev.animate('EASE_IN_BACK', 0.5, x=-400)
	    ]]>
	    </event>
	    <case condition="item.image">
		<rectangle color="0x99000000" radius="30"/>
		<group>
		    <image x="10" y="10" width="350" height="350" filename="$item.image">
			<replace-on-context-change keys="item.artist item.album" script="fade"/>
		    </image>
		    <label x="10" y="380" width="330" font="Vera:20" color="0xffffff">
			<replace-on-context-change keys="item.name" script="fade"/>
			$item.name
		    </label>
		    <label x="10" y="420" width="330" font="Vera:18" color="0xffffff">
			<replace-on-context-change keys="item.artist" script="fade"/>
			$item.artist
		    </label>
		    <label x="10" y="440" width="330" font="Vera:18" color="0xffffff">
			<replace-on-context-change keys="item.album" script="fade"/>
			$item.album
		    </label>
		</group>
	    </case>
	</group>
        <listing x="420" y="100" width="590" height="590" xpadding="20" ypadding="10">
	    <label font="Vera" height="30" color="0xcccccc">
		<properties opacity="150"/>
		$item.name
	    </label>
            <selection>
                <rectangle color="0xa0000000" radius="30" height="40"/>
            </selection>
	    <event name="replace"><![CDATA[
                diff = 50
                if prev.context['menu'].pos < next.context['menu'].pos:
                    diff = -50
                next.x -= diff
                next.opacity = 0
                next.animate('EASE_IN_QUAD', 0.2, x=next.x + diff, opacity=255)
                yield prev.animate('EASE_OUT_QUAD', 0.2, x=prev.x + diff, opacity=0)
		]]>
	    </event>
	    <event name="select"><![CDATA[
	        if prev:
                    prev.animate('EASE_OUT_QUAD', secs, opacity=130)
                next.animate('EASE_OUT_QUAD', secs, opacity=255)
		]]>
	    </event>
        </listing>
	<image style="icon" x="500" y="350" width="290" height="240" name="audio">
	    <properties xalign="right" yalign="bottom" keep-aspect="true" opacity="50"/>
	</image>
    </menu>

    <application name="audioplayer">
	<audio name="player" visualisation="true"/>
	<group style="scaled" x="40" y="80" width="440" height="610">
	    <properties screen-width="1280" screen-height="720"/>
	    <rectangle color="0x66000000" radius="30"/>
	    <thumbnail x="20" y="20" width="400" height="400" thumbnail="$item.thumbnail"/>
	    <group x="20" y="450" width="700" height="230">
		<label y="0" font="Vera:24" color="0xffffff">
		    $item.name
		</label>
		<label y="60" font="Vera:18" color="0xffffff">
		    Artist: $item.artist
		</label>
		<label y="90" font="Vera:18" color="0xffffff">
		    Album: $item.album
		</label>
		<label y="120" font="Vera:18" color="0xffffff">
		    $item.elapsed / $item.length
		</label>
	    </group>
	</group>
    </application>

</theme>
<!-- Keep this comment at the end of the file
Local variables:
nxml-child-indent: 4
End:
-->
